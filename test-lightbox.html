<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightbox Test - Bloomy Stories</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            padding: 2rem;
        }
        
        .gallery-item {
            position: relative;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }
        
        .gallery-overlay i {
            color: white;
            font-size: 2rem;
        }
        
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }
        
        .lightbox-content img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 8px;
        }
        
        .lightbox-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
        }
        
        .lightbox-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
        }
        
        .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            padding: 1rem;
            cursor: pointer;
            border-radius: 4px;
        }
        
        .prev-btn {
            margin-left: -60px;
        }
        
        .next-btn {
            margin-right: -60px;
        }
    </style>
</head>
<body>
    <div id="app">
        <h1 style="text-align: center; padding: 2rem;">Lightbox Test - Click any image</h1>
        
        <div class="gallery-grid">
            <div 
                v-for="(photo, index) in photos" 
                :key="index"
                class="gallery-item"
                @click="openLightbox(index)"
            >
                <img :src="photo.thumbnail" :alt="photo.alt">
                <div class="gallery-overlay">
                    <i class="fas fa-expand"></i>
                </div>
            </div>
        </div>

        <!-- Lightbox -->
        <div v-if="lightboxOpen" class="lightbox" @click="closeLightbox">
            <div class="lightbox-content" @click.stop>
                <button class="lightbox-close" @click="closeLightbox">&times;</button>
                <img :src="photos[currentPhotoIndex].full" :alt="photos[currentPhotoIndex].alt">
                <div class="lightbox-nav">
                    <button @click="prevPhoto" class="nav-btn prev-btn">&larr;</button>
                    <button @click="nextPhoto" class="nav-btn next-btn">&rarr;</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    lightboxOpen: false,
                    currentPhotoIndex: 0,
                    photos: [
                        {
                            thumbnail: 'images/prewed/DSC01159.jpg',
                            full: 'images/prewed/DSC01159.jpg',
                            alt: 'Prewedding test 1'
                        },
                        {
                            thumbnail: 'images/wed/1I0A4204.jpg',
                            full: 'images/wed/1I0A4204.jpg',
                            alt: 'Wedding test 1'
                        },
                        {
                            thumbnail: 'images/prewed/DSC05299.jpg',
                            full: 'images/prewed/DSC05299.jpg',
                            alt: 'Prewedding test 2'
                        }
                    ]
                }
            },
            methods: {
                openLightbox(index) {
                    console.log('Opening lightbox for index:', index);
                    this.currentPhotoIndex = index;
                    this.lightboxOpen = true;
                    document.body.style.overflow = 'hidden';
                },
                
                closeLightbox() {
                    console.log('Closing lightbox');
                    this.lightboxOpen = false;
                    document.body.style.overflow = 'auto';
                },
                
                nextPhoto() {
                    this.currentPhotoIndex = (this.currentPhotoIndex + 1) % this.photos.length;
                },
                
                prevPhoto() {
                    this.currentPhotoIndex = this.currentPhotoIndex === 0 
                        ? this.photos.length - 1 
                        : this.currentPhotoIndex - 1;
                }
            },
            mounted() {
                // Handle keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (this.lightboxOpen) {
                        if (e.key === 'Escape') {
                            this.closeLightbox();
                        } else if (e.key === 'ArrowRight') {
                            this.nextPhoto();
                        } else if (e.key === 'ArrowLeft') {
                            this.prevPhoto();
                        }
                    }
                });
            }
        }).mount('#app');
    </script>
</body>
</html>
